(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{480:function(e,r,t){var content=t(653);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(59).default)("35a3f520",content,!0,{sourceMap:!1})},652:function(e,r,t){"use strict";var o=t(480);t.n(o).a},653:function(e,r,t){(r=t(58)(!1)).push([e.i,"#shop .content{max-width:800px;margin:20px auto}",""]),e.exports=r},686:function(e,r,t){"use strict";t.r(r);t(15);var o=t(4),n=t(434),l=t(530),c=t(440),d=(t(9),t(467),t(423)),_=t(428),m=t(468),f=m.channelRoot,v=m.createChannel,h=m.createMessage,x=m.parseMessage,y=m.mamAttach,k=(m.mamFetch,m.mamFetchAll,Object(_.composeAPI)({provider:"https://nodes.devnet.thetangle.org:443"})),w=parseInt("9"),O=function(){if(window.crypto&&window.crypto.getRandomValues){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ9",r="",t=new Uint32Array(81);return window.crypto.getRandomValues(t),t.forEach((function(t){return r+=e[t%e.length]})),r}throw new Error("Your browser is outdated and cant generate secure random numbers")},M=function(data){return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,t){var o,n,l,c,_,m,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=O(),n=v(o,2,"restricted","OMA"),console.log("channelState",n),l=f(n),console.log("initialRoot",l),console.log("data",data),console.log("JSON.stringify(data)",JSON.stringify(data)),c=Object(d.asciiToTrytes)(JSON.stringify(data)),console.log("trytesMessage",c),_=h(n,c),m=x(_.payload,_.root,"OMA"),console.log("decodedMessage",m),e.next=15,y(k,_,3,w,"MY9MAM");case 15:return M=e.sent,console.log("test",M),e.abrupt("return",r(l));case 20:return e.prev=20,e.t0=e.catch(0),console.log("createMAMChannel error",e.t0),e.abrupt("return",t(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t){return e.apply(this,arguments)}}())},S=function(data){return new Promise(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(r,t){var o,n,l,c,_,m,M;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=O(),n=v(o,2,"restricted","OMA"),console.log("channelState",n),l=f(n),console.log("initialRoot",l),console.log("data",data),console.log("JSON.stringify(data)",JSON.stringify(data)),c=Object(d.asciiToTrytes)(JSON.stringify(data)),console.log("trytesMessage",c),_=h(n,c),m=x(_.payload,_.root,"OMA"),console.log("decodedMessage",m),e.next=15,y(k,_,3,w,"MY9MAM");case 15:return M=e.sent,console.log("test",M),e.abrupt("return",r({root:l,seed:o}));case 20:return e.prev=20,e.t0=e.catch(0),console.log("createMAMChannel error",e.t0),e.abrupt("return",t(e.t0));case 24:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(r,t){return e.apply(this,arguments)}}())},$={components:{Navigation:n.a,CreateShop:l.a,Footer:c.a},data:function(){return{order_text:"",active:0,order_form:{public_data:{}}}},methods:{send:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var t,o,n,l,object,c,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.order_text="ast",e.loading=!0,t={city_url:"https://open-marketplace.herokuapp.com",public_data:e.order_form.public_data},r.next=5,S(t);case 5:return o=r.sent,n=o.order_channel_root,l=o.order_channel_seed,object={delivery:e.order_form,order:e.order_text,public_data:e.order_form.public_data,order_channel_root:n,order_channel_seed:l},r.next=11,M(object);case 11:return c=r.sent,console.log("order_root",c),e.loading=!1,d={order_root:c},r.next=17,e.createOrder(d);case 17:r.sent,e.next();case 19:case"end":return r.stop()}}),r)})))()},next:function(){this.active++>2&&(this.active=0)},createOrder:function(e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var o,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("createOrder",e),t.next=3,r.$axios.post("https://open-marketplace.herokuapp.com/orders",e);case 3:o=t.sent,data=o.data,console.log("data",data);case 6:case"end":return t.stop()}}),t)})))()}}},A=(t(652),t(48)),component=Object(A.a)($,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"shop"}},[t("Navigation"),e._v(" "),t("div",{staticClass:"content"},[t("h1",[e._v("Einfach online einkaufen")]),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("el-steps",{attrs:{active:e.active,"finish-status":"success"}},[t("el-step",{attrs:{title:"Einkaufszettel"}}),e._v(" "),t("el-step",{attrs:{title:"Kontakt"}}),e._v(" "),t("el-step",{attrs:{title:"Abschicken"}})],1),e._v(" "),t("br"),e._v(" "),t("el-form",{ref:"ruleForm",attrs:{model:e.order_form,"label-width":"120px","label-position":"left"}},[0==e.active?t("div",[t("p",[e._v("Gibt hier einfach ein, was du haben möchtest. Die Helfer in deiner Stadt werden sich darum kümmern.")]),e._v(" "),t("el-input",{attrs:{type:"textarea",rows:20,placeholder:"Zum Beispiel: 1 Dunkles Brot, 2 Tomaten, 1 Päckchen Käse"},model:{value:e.order_text,callback:function(r){e.order_text=r},expression:"order_text"}}),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:"description",prop:"description"}},[t("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.order_form.public_data.description,callback:function(r){e.$set(e.order_form.public_data,"description",r)},expression:"order_form.public_data.description"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"eastimated_route_length",prop:"eastimated_route_length"}},[t("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.order_form.public_data.eastimated_route_length,callback:function(r){e.$set(e.order_form.public_data,"eastimated_route_length",r)},expression:"order_form.public_data.eastimated_route_length"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"eastimated_time",prop:"eastimated_time"}},[t("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.order_form.public_data.eastimated_time,callback:function(r){e.$set(e.order_form.public_data,"eastimated_time",r)},expression:"order_form.public_data.eastimated_time"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"eastimated_price",prop:"eastimated_price"}},[t("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.order_form.public_data.eastimated_price,callback:function(r){e.$set(e.order_form.public_data,"eastimated_price",r)},expression:"order_form.public_data.eastimated_price"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"reward",prop:"reward"}},[t("el-input",{attrs:{type:"text",placeholder:""},model:{value:e.order_form.public_data.reward,callback:function(r){e.$set(e.order_form.public_data,"reward",r)},expression:"order_form.public_data.reward"}})],1),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("Weiter")]),e._v(" "),t("br"),e._v(" "),t("br"),e._v(" "),t("br")],1):e._e(),e._v(" "),1==e.active?t("div",[t("br"),e._v(" "),t("h3",[e._v("Sag uns wer du bist und wie wir dich erreichen können.")]),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:"Vorname",prop:"first_name"}},[t("el-input",{attrs:{type:"text",placeholder:"Dein Vorname"},model:{value:e.order_form.first_name,callback:function(r){e.$set(e.order_form,"first_name",r)},expression:"order_form.first_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Nachname",prop:"last_name"}},[t("el-input",{attrs:{type:"text",placeholder:"Dein Nachname"},model:{value:e.order_form.last_name,callback:function(r){e.$set(e.order_form,"last_name",r)},expression:"order_form.last_name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Telefonnummer",prop:"phone"}},[t("el-input",{attrs:{type:"text",placeholder:"Deine Telefonnummer"},model:{value:e.order_form.phone,callback:function(r){e.$set(e.order_form,"phone",r)},expression:"order_form.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Firmenname",prop:"firm_name"}},[t("el-input",{attrs:{type:"text",placeholder:"Dein Firmenname"},model:{value:e.order_form.firm_name,callback:function(r){e.$set(e.order_form,"firm_name",r)},expression:"order_form.firm_name"}})],1),e._v(" "),t("br"),e._v(" "),t("h3",[e._v("Wohin soll Deine Bestellung geliefert werden?")]),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:"Straße",prop:"street"}},[t("el-input",{attrs:{type:"text",placeholder:"Deine Straße"},model:{value:e.order_form.street,callback:function(r){e.$set(e.order_form,"street",r)},expression:"order_form.street"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Hausnummer",prop:"street_number"}},[t("el-input",{attrs:{type:"text",placeholder:"Deine Hausnummer"},model:{value:e.order_form.street_number,callback:function(r){e.$set(e.order_form,"street_number",r)},expression:"order_form.street_number"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Postleitzahl",prop:"zip_code"}},[t("el-input",{attrs:{type:"text",placeholder:"Deine Postleitzahl"},model:{value:e.order_form.zip_code,callback:function(r){e.$set(e.order_form,"zip_code",r)},expression:"order_form.zip_code"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"Stadt",prop:"city"}},[t("el-input",{attrs:{type:"text",placeholder:"Deine Stadt"},model:{value:e.order_form.city,callback:function(r){e.$set(e.order_form,"city",r)},expression:"order_form.city"}})],1),e._v(" "),t("br"),e._v(" "),t("h3",[e._v("Sonstiges")]),e._v(" "),t("br"),e._v(" "),t("el-form-item",{attrs:{label:"Anmerkungen für die Helfer",prop:"general"}},[t("el-input",{attrs:{type:"textarea",rows:5,placeholder:"Bitte klingeln"},model:{value:e.order_form.general,callback:function(r){e.$set(e.order_form,"general",r)},expression:"order_form.general"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.next}},[e._v("Weiter")]),e._v(" "),t("br"),e._v(" "),t("br")],1):e._e(),e._v(" "),2==e.active?t("div",[t("h3",[e._v("Order")]),e._v(" "),t("pre",[e._v(e._s(e.order_text))]),e._v(" "),t("h3",[e._v("Order inforamtion")]),e._v(" "),t("pre",[e._v(e._s(e.order_form))]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("Verbindlich Bestellen")]),e._v(" "),t("br"),e._v(" "),t("br")],1):e._e(),e._v(" "),3==e.active?t("div",[t("h3",[e._v("Danke!")]),e._v(" "),t("p",[e._v("Vielen Danke für deine Bestelung! Ein Helfer wird bald mit dem Einkauf da sein!")]),e._v(" "),t("p",[e._v("Bitte bleibe solange am Telefon erreichbar.")]),e._v(" "),t("nuxt-link",{attrs:{to:"/"}},[e._v("Zurück zur Startseite")]),e._v(" oder\n        "),t("nuxt-link",{attrs:{to:"/orders"}},[e._v("Disover Orders")]),e._v(" "),t("br"),e._v(" "),t("br")],1):e._e()])],1),e._v(" "),t("Footer")],1)}),[],!1,null,null,null);r.default=component.exports}}]);